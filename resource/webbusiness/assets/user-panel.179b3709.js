import{a as I,_ as A}from"./index.47cdf61a.js";/* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as U,e as S,w as z,c0 as L,aL as N,C as l,aE as D,aH as t,aI as n,D as f,aF as P,aN as C,aO as b,aS as g,bk as Y,c9 as $,bj as j,bT as q,bb as E,bO as H}from"./arco.9680cdc2.js";import{u as M}from"./common.d0048664.js";import{s as O}from"./user-center.50a09aca.js";import"./chart.1da8855c.js";import"./vue.780a5d54.js";const T=["src"],V={key:1},W={key:2},R=U({__name:"user-panel",props:{formData:{type:Object,default:!1}},setup(w){const i=w,v=I(),x={uid:"-2",name:"avatar.png",url:v.avatar},h=S();z(()=>i.formData,()=>{h.value=[{label:"userSetting.label.name",value:v.name},{label:"userSetting.label.certification",value:1},{label:"userSetting.label.accountId",value:i.formData.id},{label:"userSetting.label.phone",value:i.formData.mobile},{label:"userSetting.label.registrationDate",value:L(parseInt(i.formData.createtime)*1e3).format("YYYY-MM-DD HH:mm")}]});const c=S([x]),k=(o,s)=>{c.value=[s]},B=o=>{const s=new AbortController;return async function(){const{onProgress:u,onError:p,onSuccess:m,fileItem:r}=o;u(20);const _=a=>{let e;a.total>0&&(e=a.loaded/a.total*100),u(parseInt(String(e),10),a)};try{const a=(r==null?void 0:r.name)||"",e=await M({name:"file",file:r.file,filename:a,data:{cid:0}},_);e&&(g.loading({content:"\u66F4\u65B0\u5934\u50CF",id:"delaction"}),await O({avatar:e.url})?g.success({content:"\u66F4\u65B0\u6210\u529F",id:"delaction"}):g.clear()),m(e)}catch(a){p(a)}}(),{abort(){s.abort()}}},F=o=>{let s=/^(.{3}).*(.{4})$/;return o.replace(s,"$1****$2")};return(o,s)=>{const y=N("icon-camera"),u=Y,p=$,m=j,r=q,_=E,a=H;return l(),D(a,{bordered:!1},{default:t(()=>[n(_,{size:54},{default:t(()=>[n(p,{"custom-request":B,"list-type":"picture-card","file-list":c.value,"show-upload-button":!0,"show-file-list":!1,multiple:!1,onChange:k},{"upload-button":t(()=>[n(u,{size:100,class:"info-avatar"},{"trigger-icon":t(()=>[n(y)]),default:t(()=>[c.value.length?(l(),f("img",{key:0,src:c.value[0].url},null,8,T)):P("",!0)]),_:1})]),_:1},8,["file-list"]),n(r,{data:h.value,column:2,align:"right",layout:"inline-horizontal","label-style":{width:"140px",fontWeight:"normal",color:"rgb(var(--gray-8))"},"value-style":{width:"200px",paddingLeft:"8px",textAlign:"left"}},{label:t(({label:e})=>[C(b(o.$t(e))+" :",1)]),value:t(({value:e,data:d})=>[d.label==="userSetting.label.certification"?(l(),D(m,{key:0,color:"green",size:"small"},{default:t(()=>[C(" \u5DF2\u8BA4\u8BC1 ")]),_:1})):d.label=="userSetting.label.phone"?(l(),f("span",V,b(F(e)),1)):(l(),f("span",W,b(e),1))]),_:1},8,["data","label-style"])]),_:1})]),_:1})}}});const ce=A(R,[["__scopeId","data-v-999b70b5"]]);export{ce as default};
