import{_ as D}from"./index.47cdf61a.js";/* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               */import{d as k,e as C,aS as s,aL as g,C as I,aE as b,aH as i,G as y,aI as r,aN as M,aO as F,bU as h,ba as B,b$ as $,c6 as w,bP as E}from"./arco.9680cdc2.js";import{B as N,u as x}from"./index.cb070d16.js";import{u as L}from"./loading.351b94a0.js";import{g as S,d as A}from"./wxmenu.18469495.js";import{I as P}from"./IconPicker.7350328a.js";import{I as O}from"./Icon.9698649f.js";import"./chart.1da8855c.js";import"./vue.780a5d54.js";const V=k({name:"selectMenu",components:{BasicModal:N,IconPicker:P,Icon:O},emits:["select"],setup(e,{emit:m}){const a=C([]),{loading:f,setLoading:u}=L(),[_,{setModalProps:l,closeModal:c}]=x(async t=>{l({confirmLoading:!1}),u(!0);let n=await S({});a.value=n,u(!1)}),d=async t=>{try{s.loading({content:"\u5220\u9664\u4E2D",id:"upStatus"}),await A({ids:[t.id]})?(a.value=a.value.filter(o=>o.id!=t.id),s.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"})):s.success({content:"\u5220\u9664\u5931\u8D25",id:"upStatus"})}catch{s.clear("top")}};function p(t){t.menu?(c(),m("select",JSON.parse(t.menu))):s.error("\u83DC\u5355\u6570\u636E\u4E3A\u7A7A")}return{registerModal:_,loading:f,renderData:a,handleDel:d,selectMenu:p,cloneColumns:[{title:"\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u63CF\u8FF0",key:"des",dataIndex:"des"},{title:"\u662F\u5426\u5DF2\u9009\u7528",key:"select",dataIndex:"select",slotName:"select",align:"center"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",align:"center"}]}}});const H={class:"modelbox"};function R(e,m,a,f,u,_){const l=B,c=$,d=g("Icon"),p=w,t=E,n=g("BasicModal");return I(),b(n,h(e.$attrs,{onRegister:e.registerModal,loading:e.loading,footer:!1,width:"600px",minHeight:380,title:"\u9009\u62E9\u83DC\u5355"}),{default:i(()=>[y("div",H,[r(t,{"row-key":"id",pagination:!1,columns:e.cloneColumns,data:e.renderData,bordered:{wrapper:!0,cell:!0},"default-expand-all-rows":!0,ref:"arcotable"},{select:i(({record:o})=>[M(F(o.select==1?"\u662F":"\u5426"),1)]),operations:i(({record:o})=>[r(l,{onClick:v=>e.selectMenu(o)},{default:i(()=>[M("\u9009\u62E9")]),_:2},1032,["onClick"]),r(c,{direction:"vertical"}),r(p,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:v=>e.handleDel(o)},{default:i(()=>[r(d,{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["columns","data"])])]),_:1},16,["onRegister","loading"])}const de=D(V,[["render",R],["__scopeId","data-v-2f7f0d34"]]);export{de as default};
