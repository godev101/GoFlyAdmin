import{u as me,_ as pe}from"./index.47cdf61a.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css               */import{c as E,d as _e,aY as T,r as Fe,e as p,o as he,w as ve,aL as f,C as B,D as M,aI as e,u as l,aH as t,aN as s,aO as F,G as o,aK as ge,aJ as fe,aE as Ee,E as be,c0 as Ce,aS as r,aW as Be,cb as ye,bM as xe,bb as De,b_ as we,bv as Se,bw as ke,bx as ze,c4 as Ae,aX as Ie,c6 as Ve,bP as Te,bO as Me,b2 as Pe,b3 as Re}from"./arco.9680cdc2.js";import{u as $e}from"./loading.351b94a0.js";import{c as P}from"./cloneDeep.3df0f73e.js";import{b as Ne,s as Le,u as Ue,d as Oe}from"./generatecode.55be79ad.js";import{a as Ye}from"./index.cb070d16.js";import Ge from"./AddForm.47ceeb5a.js";import{h as We}from"./vue.780a5d54.js";import"./chart.1da8855c.js";/* empty css               *//* empty css               *//* empty css               */import"./rule.26b64704.js";import"./IconPicker.7350328a.js";import"./Icon.9698649f.js";const je=E(()=>[{title:"\u8868\u540D\u79F0",dataIndex:"tablename",width:180},{title:"\u8868\u5907\u6CE8",dataIndex:"comment",align:"center"},{title:"\u5F15\u64CE",dataIndex:"engine",align:"center"},{title:"\u7F16\u7801",dataIndex:"collation",align:"center"},{title:"\u8BB0\u5F55\u6570",dataIndex:"table_rows",align:"center"},{title:"\u81EA\u589E\u7D22\u5F15",dataIndex:"auto_increment",align:"center"},{title:"\u72B6\u6001",dataIndex:"status",slotName:"status",width:100,align:"center"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",slotName:"createtime",align:"center"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",fixed:"right",width:180,align:"center"}]),He=h=>(Pe("data-v-06683c79"),h=h(),Re(),h),Je={class:"container"},Ke={class:"action-icon"},Xe={class:"tablebox"},qe=["src"],Qe=He(()=>o("div",{class:"tigbox"},[o("div",{class:"title"},"\u751F\u6210\u4EE3\u7801\u8BF4\u660E\uFF1A"),o("div",{class:"item"},[o("div",{class:"label"},"1.\u65B0\u589E\u6570\u636E\u8868\u65F6\uFF0C\u8BF7\u70B9\u51FB\u53F3\u4E0A\u89D2\u7684\u201C\u66F4\u65B0\u6570\u636E\u8868\u201D\u8FDB\u884C\u66F4\u65B0")]),o("div",{class:"item"},[o("div",{class:"label"},"2.\u751F\u6210\u6570\u636E\u5217\u8868\u4E0D\u5E26\u5206\u7C7B\uFF0C\u5219\u76F4\u63A5\u9009\u62E9\u201C\u6A21\u677F\u7C7B\u578B=\u4EC5\u6570\u636E\u5217\u8868\u201D"),o("div",{class:"text"})]),o("div",{class:"item"},[o("div",{class:"label"},"3.\u751F\u6210\u5217\u8868\u6570\u636E\u65F6\uFF0C\u5982\u679C\u6570\u636E\u6709\u5BF9\u5E94\u5206\u7C7B\uFF08\u5982\uFF1A\u4EA7\u54C1\u5206\u7C7B\uFF09\u65F6\u201C\u6A21\u677F\u7C7B\u578B=\u6570\u636E\u5173\u8054\u5206\u7C7B\u201D\uFF0C\u4EA7\u54C1\u5217\u8868\u6570\u636E\u8868\u547D\u540D\u4E3A\uFF1Abusiness_product_content \u5206\u7C7B\u6570\u636E\u8868\u547D\u540D\u4E3A\uFF1Abusiness_product__cate"),o("div",{class:"text"})]),o("div",{class:"item"},[o("div",{class:"label"},[s("4.\u751F\u6210\u66F4\u591A\u914D\u7F6E\u8BF4\u660E\u8BF7\u5230"),o("a",{href:"https://doc.goflys.cn/docview?id=25&fid=275",target:"_blank",style:{color:"#165dff"}},"\u5F00\u53D1\u6587\u6863\u67E5\u770B")]),o("div",{class:"text"})])],-1)),Ze={name:"Rule"},et=_e({...Ze,setup(h){const y=We(),R=T.Group,{t:v}=me(),[$,{openModal:N}]=Ye(),L=E(()=>[{name:v("searchTable.size.mini"),value:"mini"},{name:v("searchTable.size.small"),value:"small"},{name:v("searchTable.size.medium"),value:"medium"},{name:v("searchTable.size.large"),value:"large"}]),d=Fe({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0}),{loading:U,setLoading:x}=$e(!0),D=p([]),g=p([]),O=p([]),b=p("large"),w=()=>({trade_no:"",name:"",createdTime:[],status:""}),i=p(w()),c=async()=>{x(!0);try{const u=await Ne({page:d.current,pageSize:d.pageSize,...i.value});D.value=u.items,d.current=u.page,d.total=u.total}catch{}finally{x(!1)}},S=()=>{c()},Y=()=>{i.value=w(),c()};he(()=>{c()});const C=p(null),G=E(()=>C.value?C.value.$el.offsetWidth-100:1200),W=(u,n)=>{b.value=u};ve(()=>je.value,u=>{g.value=P(u),g.value.forEach((n,k)=>{n.checked=!0}),O.value=P(g.value)},{deep:!0,immediate:!0});const j=async()=>{r.loading({content:"\u66F4\u65B0\u4E2D",id:"upStatus"}),await Le({id:0}),c(),r.success({content:"\u66F4\u65B0\u6210\u529F\uFF01",id:"upStatus"})},H=async u=>{N(!0,{isUpdate:!0,record:u})},J=async()=>{c()},K=u=>{d.current=u,c()},X=u=>{d.pageSize=u,c()},q=async u=>{try{r.loading({content:"\u66F4\u65B0\u72B6\u6001\u4E2D",id:"upStatus"}),await Ue({id:u.id,status:u.status})&&r.success({content:"\u66F4\u65B0\u72B6\u6001\u6210\u529F",id:"upStatus"})}catch{r.clear("top")}},Q=async u=>{try{r.loading({content:u.is_install==1?"\u5378\u8F7D":"\u5220\u9664\u4E2D",id:"upStatus"}),await Oe({id:u.id,is_install:u.is_install})&&(c(),r.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"}))}catch{r.clear("top")}},Z=E(()=>[{label:"\u5168\u90E8",value:""},{label:"\u6B63\u5E38",value:0},{label:"\u7981\u7528",value:1}]);return(u,n)=>{const k=f("Breadcrumb"),ee=Be,te=ye,ae=xe,ue=f("icon-search"),_=T,z=De,A=we,I=f("icon-refresh"),V=Se,oe=f("icon-line-height"),ne=ke,se=ze,le=Ae,ie=Ie,ce=Ve,re=Te,de=Me;return B(),M("div",Je,[e(k,{items:[l(y).matched[0].meta.locale,l(y).meta.locale]},null,8,["items"]),e(de,{class:"general-card onelineCard",ref_key:"onelineCardRef",ref:C,style:{height:"calc(100% - 50px)"}},{default:t(()=>[e(le,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(A,{span:16},{default:t(()=>[e(z,null,{default:t(()=>[e(ee,{style:{width:"120px"},modelValue:i.value.name,"onUpdate:modelValue":n[0]||(n[0]=a=>i.value.name=a),placeholder:"\u6807\u9898","allow-clear":""},null,8,["modelValue"]),e(te,{modelValue:i.value.createdTime,"onUpdate:modelValue":n[1]||(n[1]=a=>i.value.createdTime=a),style:{width:"200px"}},null,8,["modelValue"]),e(ae,{modelValue:i.value.status,"onUpdate:modelValue":n[2]||(n[2]=a=>i.value.status=a),options:l(Z),placeholder:"\u72B6\u6001",style:{width:"120px"}},null,8,["modelValue","options"]),e(_,{type:"primary",onClick:S},{icon:t(()=>[e(ue)]),default:t(()=>[s(" \u67E5\u8BE2 ")]),_:1}),e(_,{onClick:Y},{default:t(()=>[s(F(u.$t("searchTable.form.reset")),1)]),_:1})]),_:1})]),_:1}),e(A,{span:8,style:{"text-align":"right"}},{default:t(()=>[e(z,null,{default:t(()=>[e(_,{type:"primary",onClick:j},{icon:t(()=>[e(I)]),default:t(()=>[s(" \u66F4\u65B0\u6570\u636E\u8868 ")]),_:1}),e(V,{content:u.$t("searchTable.actions.refresh")},{default:t(()=>[o("div",{class:"action-icon",onClick:S},[e(I,{size:"18"})])]),_:1},8,["content"]),e(se,{onSelect:W},{content:t(()=>[(B(!0),M(ge,null,fe(l(L),a=>(B(),Ee(ne,{key:a.value,value:a.value,class:be({active:a.value===b.value})},{default:t(()=>[o("span",null,F(a.name),1)]),_:2},1032,["value","class"]))),128))]),default:t(()=>[e(V,{content:u.$t("searchTable.actions.density")},{default:t(()=>[o("div",Ke,[e(oe,{size:"18"})])]),_:1},8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}),o("div",Xe,[e(re,{"row-key":"id",loading:l(U),pagination:d,columns:g.value,data:D.value,bordered:{wrapper:!0,cell:!0},size:b.value,"default-expand-all-rows":!0,ref:"artable",scroll:{x:l(G)},onPageChange:K,onPageSizeChange:X},{image:t(({record:a})=>[o("img",{alt:"\u5C01\u9762",style:{height:"50px","border-radius":"5px"},src:a.image},null,8,qe)]),createtime:t(({record:a,column:m})=>[s(F(l(Ce)(a[m.dataIndex]*1e3).format("YYYY-MM-DD")),1)]),overtime:t(({record:a})=>[s(F(a.overtime==0?"\u4E0D\u9650":a.overtime),1)]),status:t(({record:a})=>[e(ie,{type:"round",modelValue:a.status,"onUpdate:modelValue":m=>a.status=m,"checked-value":0,"unchecked-value":1,onChange:m=>q(a)},{checked:t(()=>[s(" \u5F00 ")]),unchecked:t(()=>[s(" \u5173 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),operations:t(({record:a})=>[e(l(R),{size:"small"},{default:t(()=>[e(_,{style:{color:"rgb(var(--arcoblue-6))"},onClick:m=>H(a)},{default:t(()=>[s("\u751F\u6210\u4EE3\u7801")]),_:2},1032,["onClick"]),e(ce,{content:`\u60A8\u786E\u5B9A\u8981${a.is_install==1?"\u5378\u8F7D":"\u5220\u9664"}\u6570\u636E\u5E93\u548C\u4EE3\u7801\u5417?`,onOk:m=>Q(a)},{default:t(()=>[e(_,{style:{color:"red"}},{default:t(()=>[s(F(a.is_install==1?"\u5378\u8F7D":"\u5220\u9664"),1)]),_:2},1024)]),_:2},1032,["content","onOk"])]),_:2},1024)]),_:1},8,["loading","pagination","columns","data","size","scroll"])]),Qe]),_:1},512),e(Ge,{onRegister:l($),onSuccess:J},null,8,["onRegister"])])}}});const Pt=pe(et,[["__scopeId","data-v-06683c79"]]);export{Pt as default};
